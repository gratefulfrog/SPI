<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AEM: SlaveApp Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AEM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/ddc/class_slave_app.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">SlaveApp Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d2/d39/app_8h_source.html">app.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa1508d12112a8fffaa262767f8c2d378"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#aa1508d12112a8fffaa262767f8c2d378">SlaveApp</a> ()</td></tr>
<tr class="separator:aa1508d12112a8fffaa262767f8c2d378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6e2bad1a6b7c26f55174f23b7b278e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#ad6e2bad1a6b7c26f55174f23b7b278e4">loop</a> ()</td></tr>
<tr class="separator:ad6e2bad1a6b7c26f55174f23b7b278e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfecbd7097517f41c22fbedbc079e821"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#abfecbd7097517f41c22fbedbc079e821">SPI_ISR</a> ()</td></tr>
<tr class="separator:abfecbd7097517f41c22fbedbc079e821"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a0bd7892eadb9fbb5cdbc351d898ec0d8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8">State</a> { <br />
&#160;&#160;<a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8a28ee56ece67abbd7bfc38eb955412865">State::unstarted</a>, 
<a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8a3bebb2f89180b03fa5ae736665f648d9">State::started</a>, 
<a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8a84d10a1ed612e61dbf6880f6e3ee533a">State::initialized</a>, 
<a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8ac327b49efdca2668f28cd7b4beee54b3">State::working</a>, 
<br />
&#160;&#160;<a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8ace5db362e4caa3c112b9610a479899e3">State::readyToSend</a>, 
<a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8af55ce52ae97012b37857859bff082a82">State::sendingStructs</a>
<br />
 }</td></tr>
<tr class="separator:a0bd7892eadb9fbb5cdbc351d898ec0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a295fa63f6f44c9f593e3f02360f4d5ff"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a295fa63f6f44c9f593e3f02360f4d5ff">isSlaveMsg</a> (byte msg) const </td></tr>
<tr class="separator:a295fa63f6f44c9f593e3f02360f4d5ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2caf0884048cbd9291f82cc244eb29"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a7f2caf0884048cbd9291f82cc244eb29">response</a> (byte incoming)</td></tr>
<tr class="separator:a7f2caf0884048cbd9291f82cc244eb29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada158e7e579e3c6cf7e7c8149a1351e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#ada158e7e579e3c6cf7e7c8149a1351e9">getOutgoing</a> (uint8_t type)</td></tr>
<tr class="separator:ada158e7e579e3c6cf7e7c8149a1351e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585d732b2ec10ace6558b6312d7fa4d2"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a585d732b2ec10ace6558b6312d7fa4d2">incOutgoing</a> ()</td></tr>
<tr class="separator:a585d732b2ec10ace6558b6312d7fa4d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1471d300129040e7650670a1f8a2a8b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a1471d300129040e7650670a1f8a2a8b6">setupHBLed</a> ()</td></tr>
<tr class="separator:a1471d300129040e7650670a1f8a2a8b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af030d9c35cbe82af19e7c5bba2740cc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#af030d9c35cbe82af19e7c5bba2740cc0">stepHB</a> () const </td></tr>
<tr class="separator:af030d9c35cbe82af19e7c5bba2740cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25c186f256c0e194e3099e443180eb2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a25c186f256c0e194e3099e443180eb2f">sayState</a> () const </td></tr>
<tr class="separator:a25c186f256c0e194e3099e443180eb2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22689a8aa08191b5edf26a15ee0bc5f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a22689a8aa08191b5edf26a15ee0bc5f5">checkCurrentState</a> () const </td></tr>
<tr class="separator:a22689a8aa08191b5edf26a15ee0bc5f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188c4d7b8c3603707bd14e8518712a3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a188c4d7b8c3603707bd14e8518712a3a">createTimeStamper</a> ()</td></tr>
<tr class="separator:a188c4d7b8c3603707bd14e8518712a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac16ee19626c9a16abfd1ff54f927636e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#ac16ee19626c9a16abfd1ff54f927636e">doWork</a> ()</td></tr>
<tr class="separator:ac16ee19626c9a16abfd1ff54f927636e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:accf76655081ed240a699f2f29acc03f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#accf76655081ed240a699f2f29acc03f5">previousState</a> = <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8a28ee56ece67abbd7bfc38eb955412865">State::unstarted</a></td></tr>
<tr class="separator:accf76655081ed240a699f2f29acc03f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6374b46d3e13add335ebea630ec2175a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d75/class_q.html">Q</a>&lt; <a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a6374b46d3e13add335ebea630ec2175a">q</a></td></tr>
<tr class="separator:a6374b46d3e13add335ebea630ec2175a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae725f1cedc0eb0a5ae896ee99b9139c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dfd/class_board.html">Board</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#aae725f1cedc0eb0a5ae896ee99b9139c">board</a></td></tr>
<tr class="separator:aae725f1cedc0eb0a5ae896ee99b9139c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acafd3e5399af97faa76ed064d950ae12"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#acafd3e5399af97faa76ed064d950ae12">init32</a> = 128</td></tr>
<tr class="separator:acafd3e5399af97faa76ed064d950ae12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe57ff92c46d2a1818d7f09224b92648"><td class="memItemLeft" align="right" valign="top">const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#abe57ff92c46d2a1818d7f09224b92648">bid32</a> = 144</td></tr>
<tr class="separator:abe57ff92c46d2a1818d7f09224b92648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8fd4dc2dc7ffd31b185509467704240"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#ad8fd4dc2dc7ffd31b185509467704240">init8</a> = 0b10000000</td></tr>
<tr class="separator:ad8fd4dc2dc7ffd31b185509467704240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33eb316e85fd77bb2c316058082d18a8"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a33eb316e85fd77bb2c316058082d18a8">payload8</a> = 0b10110000</td></tr>
<tr class="separator:a33eb316e85fd77bb2c316058082d18a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada1f003a5ba2778ba809772c4369be9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#ada1f003a5ba2778ba809772c4369be9d">outgoing</a></td></tr>
<tr class="separator:ada1f003a5ba2778ba809772c4369be9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a791d374cb8e278712ef61cac3ef0e"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a98a791d374cb8e278712ef61cac3ef0e">bytePtr</a></td></tr>
<tr class="separator:a98a791d374cb8e278712ef61cac3ef0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e3c83d3d2ecbc7558dd389393f81924"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a2e3c83d3d2ecbc7558dd389393f81924">initResponseStruct</a> = {<a class="el" href="../../da/ddc/class_slave_app.html#ad8fd4dc2dc7ffd31b185509467704240">init8</a>, <a class="el" href="../../da/ddc/class_slave_app.html#acafd3e5399af97faa76ed064d950ae12">init32</a>,0}</td></tr>
<tr class="separator:a2e3c83d3d2ecbc7558dd389393f81924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f7fc54622dfd52d494173b230d3a3ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a0f7fc54622dfd52d494173b230d3a3ff">payload</a> = {255,255,255.0}</td></tr>
<tr class="separator:a0f7fc54622dfd52d494173b230d3a3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214d4e2e5cfcb53c778def6941dcc51e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a214d4e2e5cfcb53c778def6941dcc51e">nullStruct</a> = {255,0,0.0}</td></tr>
<tr class="separator:a214d4e2e5cfcb53c778def6941dcc51e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a909ee31a173a16cef73e65088527ab7f"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a909ee31a173a16cef73e65088527ab7f">currentState</a> = <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8a3bebb2f89180b03fa5ae736665f648d9">State::started</a></td></tr>
<tr class="separator:a909ee31a173a16cef73e65088527ab7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b59b3fe2430c2653299f1ede4dad16"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a22b59b3fe2430c2653299f1ede4dad16">nextState</a> = <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8a28ee56ece67abbd7bfc38eb955412865">State::unstarted</a></td></tr>
<tr class="separator:a22b59b3fe2430c2653299f1ede4dad16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae30f9ed712cc3a93f306858ac5ad69"><td class="memItemLeft" align="right" valign="top">volatile boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/ddc/class_slave_app.html#a3ae30f9ed712cc3a93f306858ac5ad69">flag</a> = false</td></tr>
<tr class="separator:a3ae30f9ed712cc3a93f306858ac5ad69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../da/ddc/class_slave_app.html">SlaveApp</a> handles all SPI interactions with master and polls the board for ADC data </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a0bd7892eadb9fbb5cdbc351d898ec0d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8">SlaveApp::State</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a0bd7892eadb9fbb5cdbc351d898ec0d8a28ee56ece67abbd7bfc38eb955412865"></a>unstarted&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0bd7892eadb9fbb5cdbc351d898ec0d8a3bebb2f89180b03fa5ae736665f648d9"></a>started&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0bd7892eadb9fbb5cdbc351d898ec0d8a84d10a1ed612e61dbf6880f6e3ee533a"></a>initialized&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0bd7892eadb9fbb5cdbc351d898ec0d8ac327b49efdca2668f28cd7b4beee54b3"></a>working&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0bd7892eadb9fbb5cdbc351d898ec0d8ace5db362e4caa3c112b9610a479899e3"></a>readyToSend&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a0bd7892eadb9fbb5cdbc351d898ec0d8af55ce52ae97012b37857859bff082a82"></a>sendingStructs&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa1508d12112a8fffaa262767f8c2d378"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SlaveApp::SlaveApp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>constructor: activates Serial creates all member variables provides output to Serial to inform sets up SPI slave mode </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a22689a8aa08191b5edf26a15ee0bc5f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SlaveApp::checkCurrentState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>compare current state with previous state and dispaly error message if incorrect </p>

</div>
</div>
<a class="anchor" id="a188c4d7b8c3603707bd14e8518712a3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SlaveApp::createTimeStamper </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called to creat the instance of the timeStamper class and set t0 appropriately </p>

</div>
</div>
<a class="anchor" id="ac16ee19626c9a16abfd1ff54f927636e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8">SlaveApp::State</a> SlaveApp::doWork </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>as long as there is room on the queue, poll the adc/channels and push the data to the queue. If there is no room left on the queue, return <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8ace5db362e4caa3c112b9610a479899e3">State::readyToSend</a> to inform the main loop </p><dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8ac327b49efdca2668f28cd7b4beee54b3">State::working</a> if there is still room on the queue for more data, or <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8ace5db362e4caa3c112b9610a479899e3">State::readyToSend</a> otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ada158e7e579e3c6cf7e7c8149a1351e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a> * SlaveApp::getOutgoing </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Depending on the msg type received and the current state, a pointer to an appropriate response stuct is provided, In side-effect, the nextState is computed and assigned </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>is the incoming byte from the master either init8 or payload8 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the struct that should be sent back in response </dd></dl>

</div>
</div>
<a class="anchor" id="a585d732b2ec10ace6558b6312d7fa4d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean SlaveApp::incOutgoing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>will pop the local queue for the next outgoing value struct. If the q returns an elt, it is copied to the payload struct, if not nullStruct is used meaning that there is nothing left to send </p><dl class="section return"><dt>Returns</dt><dd>True if there is more to send, false if not. </dd></dl>

</div>
</div>
<a class="anchor" id="a295fa63f6f44c9f593e3f02360f4d5ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean SlaveApp::isSlaveMsg </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>tests arg to see if is coherent with a slave outgoing msg. Used to avoid errors in SPI </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>a byt that will have at least one 1 in the top 4 bits if it is a Master msg </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if slave message, false if not </dd></dl>

</div>
</div>
<a class="anchor" id="ad6e2bad1a6b7c26f55174f23b7b278e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SlaveApp::loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>called by the main loop, manages the slave state machine by: 1st checking the 'flag' that may have been set in an SPI interrupt, and updating state as neede, then, checking curreent state against prevous, inform if error, and inform of change in data display is such then perform any actions required by the current state. </p>

</div>
</div>
<a class="anchor" id="a7f2caf0884048cbd9291f82cc244eb29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte SlaveApp::response </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>incoming</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Method handles all the logic of interpretting incoming bytes from the master and constructing the appropriate responses for the next exchanges. The incomoing byte can be a s_init_t, s_payload_t or 1,2, or 3 each left shifted 4 bits to make them master messages. Depending on the byte received, the slave will do the appropriate action: if it is a s_init_t or an s_payload_t, a new outgoing struct is filled, and the bytepointer is set to the top 1/2 of the first byte. if it is a 1, then the the byte ptr is set to the lower 1/2 of the current byte, if it is a 2, then the byte ptr is set to the 1st 1/2 of the next byte if is something else, then processing is terminated and the next state is tested to see if the state change flag should be set. the byte ptr is reset. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">incoming</td><td>the byte received from the master </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the byte to send back, knowing that it will only be read in the next exchange! </dd></dl>

</div>
</div>
<a class="anchor" id="a25c186f256c0e194e3099e443180eb2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SlaveApp::sayState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Display the heartbeat infor and current state if full data display is active </p>

</div>
</div>
<a class="anchor" id="a1471d300129040e7650670a1f8a2a8b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SlaveApp::setupHBLed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>setup calls for heartbeat led pins </p>

</div>
</div>
<a class="anchor" id="abfecbd7097517f41c22fbedbc079e821"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SlaveApp::SPI_ISR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>the SPI transmission complete interrupt service routine, looks at the SPDR and if it is not an outgoing slave mesage, processes it appropriately </p>

</div>
</div>
<a class="anchor" id="af030d9c35cbe82af19e7c5bba2740cc0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SlaveApp::stepHB </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>update the heartbeat flashing </p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="abe57ff92c46d2a1818d7f09224b92648"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t SlaveApp::bid32 = 144</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aae725f1cedc0eb0a5ae896ee99b9139c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dfd/class_board.html">Board</a>* SlaveApp::board</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a98a791d374cb8e278712ef61cac3ef0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* SlaveApp::bytePtr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a909ee31a173a16cef73e65088527ab7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8">State</a> SlaveApp::currentState = <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8a3bebb2f89180b03fa5ae736665f648d9">State::started</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3ae30f9ed712cc3a93f306858ac5ad69"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile boolean SlaveApp::flag = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="acafd3e5399af97faa76ed064d950ae12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t SlaveApp::init32 = 128</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad8fd4dc2dc7ffd31b185509467704240"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t SlaveApp::init8 = 0b10000000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e3c83d3d2ecbc7558dd389393f81924"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a> SlaveApp::initResponseStruct = {<a class="el" href="../../da/ddc/class_slave_app.html#ad8fd4dc2dc7ffd31b185509467704240">init8</a>, <a class="el" href="../../da/ddc/class_slave_app.html#acafd3e5399af97faa76ed064d950ae12">init32</a>,0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a22b59b3fe2430c2653299f1ede4dad16"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8">State</a> SlaveApp::nextState = <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8a28ee56ece67abbd7bfc38eb955412865">State::unstarted</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a214d4e2e5cfcb53c778def6941dcc51e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a> SlaveApp::nullStruct = {255,0,0.0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ada1f003a5ba2778ba809772c4369be9d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a>* SlaveApp::outgoing</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0f7fc54622dfd52d494173b230d3a3ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a> SlaveApp::payload = {255,255,255.0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a33eb316e85fd77bb2c316058082d18a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t SlaveApp::payload8 = 0b10110000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="accf76655081ed240a699f2f29acc03f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8">State</a> SlaveApp::previousState = <a class="el" href="../../da/ddc/class_slave_app.html#a0bd7892eadb9fbb5cdbc351d898ec0d8a28ee56ece67abbd7bfc38eb955412865">State::unstarted</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6374b46d3e13add335ebea630ec2175a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d75/class_q.html">Q</a>&lt;<a class="el" href="../../dc/da4/structu8u32f__struct.html">u8u32f_struct</a>&gt;* SlaveApp::q</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/bob/Desktop/temp/Yannick/PhD Support/temp/SPI/RPI/Python/App/Slave2650/<a class="el" href="../../d2/d39/app_8h_source.html">app.h</a></li>
<li>/home/bob/Desktop/temp/Yannick/PhD Support/temp/SPI/RPI/Python/App/Slave2650/<a class="el" href="../../d5/dc5/slave_app_8cpp.html">slaveApp.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../da/ddc/class_slave_app.html">SlaveApp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
