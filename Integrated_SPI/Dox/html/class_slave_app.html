<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SPI_Integration: SlaveApp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SPI_Integration
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_slave_app.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_slave_app-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SlaveApp Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="app_8h_source.html">app.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SlaveApp:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_slave_app.png" usemap="#SlaveApp_map" alt=""/>
  <map id="SlaveApp_map" name="SlaveApp_map">
<area href="class_app.html" alt="App" shape="rect" coords="0,0,67,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa1508d12112a8fffaa262767f8c2d378"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#aa1508d12112a8fffaa262767f8c2d378">SlaveApp</a> ()</td></tr>
<tr class="separator:aa1508d12112a8fffaa262767f8c2d378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6e2bad1a6b7c26f55174f23b7b278e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#ad6e2bad1a6b7c26f55174f23b7b278e4">loop</a> ()</td></tr>
<tr class="separator:ad6e2bad1a6b7c26f55174f23b7b278e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfecbd7097517f41c22fbedbc079e821"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#abfecbd7097517f41c22fbedbc079e821">SPI_ISR</a> ()</td></tr>
<tr class="separator:abfecbd7097517f41c22fbedbc079e821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_app"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_app')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_app.html">App</a></td></tr>
<tr class="memitem:acb8cbf3e285b91d0170ffe87df5989c5 inherit pub_methods_class_app"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#acb8cbf3e285b91d0170ffe87df5989c5">App</a> ()</td></tr>
<tr class="separator:acb8cbf3e285b91d0170ffe87df5989c5 inherit pub_methods_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac403651008141832cc9002735f6dfcbd inherit pub_methods_class_app"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#ac403651008141832cc9002735f6dfcbd">serialEvent</a> ()</td></tr>
<tr class="separator:ac403651008141832cc9002735f6dfcbd inherit pub_methods_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:adff03f503f2ea7dec2a96f6fb7376509"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#adff03f503f2ea7dec2a96f6fb7376509">fillStruct</a> ()</td></tr>
<tr class="separator:adff03f503f2ea7dec2a96f6fb7376509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_app"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_app')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_app.html">App</a></td></tr>
<tr class="memitem:a73ec8b8a3d7224f11d37d3fb25f27f75 inherit pro_methods_class_app"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#a73ec8b8a3d7224f11d37d3fb25f27f75">transferAndWait</a> (const byte what) const </td></tr>
<tr class="separator:a73ec8b8a3d7224f11d37d3fb25f27f75 inherit pro_methods_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2dedbfa3979923c31a5e90002050288 inherit pro_methods_class_app"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#af2dedbfa3979923c31a5e90002050288">processReply</a> (uint32_t v, boolean isTime)</td></tr>
<tr class="separator:af2dedbfa3979923c31a5e90002050288 inherit pro_methods_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c9405bcc8f81ec37f2edaf4144113da inherit pro_methods_class_app"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#a4c9405bcc8f81ec37f2edaf4144113da">processReply</a> (<a class="el" href="structtime_val_struct__t.html">timeValStruct_t</a> &amp;tvs)</td></tr>
<tr class="separator:a4c9405bcc8f81ec37f2edaf4144113da inherit pro_methods_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6caa3d023814491ae756230c49f0821e"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="board_8h.html#a4463fc2514c805d806ce4d981993967f">boardID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#a6caa3d023814491ae756230c49f0821e">outBID</a></td></tr>
<tr class="separator:a6caa3d023814491ae756230c49f0821e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a904be0463333a4437cb1812bd368c1c5"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="structtime_val_struct__t.html">timeValStruct_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#a904be0463333a4437cb1812bd368c1c5">outTVS</a></td></tr>
<tr class="separator:a904be0463333a4437cb1812bd368c1c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c5615c5ad15e5cf509a0b7dc4fa636"><td class="memItemLeft" align="right" valign="top">volatile <a class="el" href="structtime_val_struct__t.html">timeValStruct_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#a67c5615c5ad15e5cf509a0b7dc4fa636">tempTVS</a> = NULL</td></tr>
<tr class="separator:a67c5615c5ad15e5cf509a0b7dc4fa636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6010e3550cb495b58cb5518de3d58f"><td class="memItemLeft" align="right" valign="top">volatile byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#afd6010e3550cb495b58cb5518de3d58f">command</a> = 0</td></tr>
<tr class="separator:afd6010e3550cb495b58cb5518de3d58f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a527d2622a13255941a8fd116cfc6add0"><td class="memItemLeft" align="right" valign="top">volatile byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#a527d2622a13255941a8fd116cfc6add0">outPtr</a></td></tr>
<tr class="separator:a527d2622a13255941a8fd116cfc6add0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4695c5ffa8423244bb337b9f210d50"><td class="memItemLeft" align="right" valign="top">volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#a0e4695c5ffa8423244bb337b9f210d50">sendI</a></td></tr>
<tr class="separator:a0e4695c5ffa8423244bb337b9f210d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6774a521bd23c60ba32f6afbc3fe20"><td class="memItemLeft" align="right" valign="top">volatile boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#a1e6774a521bd23c60ba32f6afbc3fe20">init</a> = false</td></tr>
<tr class="separator:a1e6774a521bd23c60ba32f6afbc3fe20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656aced3bc824a15fae36ff05ca9512b"><td class="memItemLeft" align="right" valign="top">volatile boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#a656aced3bc824a15fae36ff05ca9512b">showInitMsg</a> = false</td></tr>
<tr class="separator:a656aced3bc824a15fae36ff05ca9512b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf9a9c70ec78845dfbd16c5103688b8"><td class="memItemLeft" align="right" valign="top">volatile unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#a1cf9a9c70ec78845dfbd16c5103688b8">lim</a></td></tr>
<tr class="separator:a1cf9a9c70ec78845dfbd16c5103688b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae725f1cedc0eb0a5ae896ee99b9139c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_board.html">Board</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave_app.html#aae725f1cedc0eb0a5ae896ee99b9139c">board</a></td></tr>
<tr class="separator:aae725f1cedc0eb0a5ae896ee99b9139c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_class_app"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_class_app')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="class_app.html">App</a></td></tr>
<tr class="memitem:ab3bd698e1d778508b657f6dd1943df66 inherit pub_static_attribs_class_app"><td class="memItemLeft" align="right" valign="top">static const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#ab3bd698e1d778508b657f6dd1943df66">nullChar</a> = '#'</td></tr>
<tr class="separator:ab3bd698e1d778508b657f6dd1943df66 inherit pub_static_attribs_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac92acf33b83ceefa895c94605af26ad1 inherit pub_static_attribs_class_app"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#ac92acf33b83ceefa895c94605af26ad1">pauseBetweenSends</a> = 10</td></tr>
<tr class="separator:ac92acf33b83ceefa895c94605af26ad1 inherit pub_static_attribs_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_attribs_class_app"><td colspan="2" onclick="javascript:toggleInherit('pro_static_attribs_class_app')"><img src="closed.png" alt="-"/>&#160;Static Protected Attributes inherited from <a class="el" href="class_app.html">App</a></td></tr>
<tr class="memitem:a0887a2afeb295a09888ee25952b5f298 inherit pro_static_attribs_class_app"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="utilities_8h.html#a7f33909b8ea0d3488da13eea67a2b84b">processingUint32FuncPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#a0887a2afeb295a09888ee25952b5f298">pFuncPtrUint32</a> = &amp;<a class="el" href="utilities_8h.html#ac41bd328a43444ded1d55ed7c614da52">serialPrintUint32</a></td></tr>
<tr class="separator:a0887a2afeb295a09888ee25952b5f298 inherit pro_static_attribs_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add45facdc9ac449bd236e6c976706b9d inherit pro_static_attribs_class_app"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="utilities_8h.html#a243b63df408f2cfbf448e8e42784c559">processingUintTVSFuncPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#add45facdc9ac449bd236e6c976706b9d">pFuncPtrTVS</a> = &amp;<a class="el" href="utilities_8h.html#a52132569929732129415e22a05aeee40">serialPrintTVS</a></td></tr>
<tr class="separator:add45facdc9ac449bd236e6c976706b9d inherit pro_static_attribs_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d123841a385c5bbc99ccfc40f4f1c58 inherit pro_static_attribs_class_app"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#a7d123841a385c5bbc99ccfc40f4f1c58">initChar</a> = 'i'</td></tr>
<tr class="separator:a7d123841a385c5bbc99ccfc40f4f1c58 inherit pro_static_attribs_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8da5c4de115dbd79a43c0946c6f4c454 inherit pro_static_attribs_class_app"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#a8da5c4de115dbd79a43c0946c6f4c454">bidChar</a> = 'b'</td></tr>
<tr class="separator:a8da5c4de115dbd79a43c0946c6f4c454 inherit pro_static_attribs_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf514ca7223769e4bbf2c4e491549a70 inherit pro_static_attribs_class_app"><td class="memItemLeft" align="right" valign="top">static const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#acf514ca7223769e4bbf2c4e491549a70">acquireChar</a> = 'a'</td></tr>
<tr class="separator:acf514ca7223769e4bbf2c4e491549a70 inherit pro_static_attribs_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ea15b020946e2e60686cb4f1e3b906 inherit pro_static_attribs_class_app"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#ae0ea15b020946e2e60686cb4f1e3b906">bigBuffSize</a> = 50</td></tr>
<tr class="separator:ae0ea15b020946e2e60686cb4f1e3b906 inherit pro_static_attribs_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b30ae5ed190dab272ce6cf49fb0c83b inherit pro_static_attribs_class_app"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_app.html#a5b30ae5ed190dab272ce6cf49fb0c83b">slaveProcessingTime</a> = 0</td></tr>
<tr class="separator:a5b30ae5ed190dab272ce6cf49fb0c83b inherit pro_static_attribs_class_app"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_slave_app.html">SlaveApp</a> class implements the cuntionalities of the MEGA to collect data from the ADCs and respond to commands from the Master </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa1508d12112a8fffaa262767f8c2d378"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SlaveApp::SlaveApp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instance constructor:</p>
<p>sets the MCU to be an SPI slave (HW spi),</p>
<p>attaches SPI interrupt service routine,</p>
<p>waits for Serial,</p>
<p>creates <a class="el" href="class_time_stamper.html#aabae549b991789d8601c667469dec521">TimeStamper::theTimeStamper</a>,</p>
<p>creates the board instance,</p>
<p>assigns the outBID </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="adff03f503f2ea7dec2a96f6fb7376509"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SlaveApp::fillStruct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>fillStruct method initializes the variables needed to send data back to the master. It is only called once per command, the multiple bytes of data sent back to the master at each SPI interrupt that is triggerred by a nullChar,</p>
<p>A new data send is triggered when a new command is received. </p>

</div>
</div>
<a class="anchor" id="ad6e2bad1a6b7c26f55174f23b7b278e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SlaveApp::loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is where it all happens:</p>
<p>If not initialized (init member variable), Serial output of wait message;</p>
<p>otherwsie, if showInitMsg is true, output some init info and set showInitMsg to false,</p>
<p>then call the board-&gt;<a class="el" href="class_slave_app.html#ad6e2bad1a6b7c26f55174f23b7b278e4">loop()</a> and inform if the queue is gettng bigger! </p>

<p>Implements <a class="el" href="class_app.html#a81fd89b80925ea3a89dcf5482e187c3b">App</a>.</p>

</div>
</div>
<a class="anchor" id="abfecbd7097517f41c22fbedbc079e821"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SlaveApp::SPI_ISR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method is called when the Slave receives a HW SPI interrupt, i.e. the Master has sent a byte.</p>
<p>It is important to note that an interrupt handler cannot allocate memory and must be as fast as possible to not block the main loop. Of course the same apllies to any methods called by the handler.</p>
<p>This handler checks what is in the SPDR (SPI Data Register).</p>
<p>If it is not the nullChar, then we know that a new command has come in. So assign the value to the command member variable and call <a class="el" href="class_slave_app.html#adff03f503f2ea7dec2a96f6fb7376509">fillStruct()</a> to initalize replying</p>
<p>In all cases, if the send index (sendI) is less than the limit, put the dereferenced value from outPtr into the SPDR and inc the outPtr </p>

<p>Implements <a class="el" href="class_app.html#a94ada404d9f89d961db3aa40988c4a4b">App</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aae725f1cedc0eb0a5ae896ee99b9139c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_board.html">Board</a>* SlaveApp::board</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>board contains a pointer to the master's board instance. The pointer is initialized at <a class="el" href="class_slave_app.html">SlaveApp</a> instance construction. </p>

</div>
</div>
<a class="anchor" id="afd6010e3550cb495b58cb5518de3d58f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile byte SlaveApp::command = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>command is used to read from the Master. It must be volatile due to itnerrupt handling </p>

</div>
</div>
<a class="anchor" id="a1e6774a521bd23c60ba32f6afbc3fe20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile boolean SlaveApp::init = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>init is set to true when the slave has received the initChar from the master. This is a flag used in the slave <a class="el" href="class_slave_app.html#ad6e2bad1a6b7c26f55174f23b7b278e4">loop()</a> </p>

</div>
</div>
<a class="anchor" id="a1cf9a9c70ec78845dfbd16c5103688b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned int SlaveApp::lim</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>lim contains the current number of bytes to send to the master. </p>

</div>
</div>
<a class="anchor" id="a6caa3d023814491ae756230c49f0821e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="board_8h.html#a4463fc2514c805d806ce4d981993967f">boardID</a> SlaveApp::outBID</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>outBid is used to send the <a class="el" href="class_board.html">Board</a>'s ID to the Master. It must be volatile due to itnerrupt handling </p>

</div>
</div>
<a class="anchor" id="a527d2622a13255941a8fd116cfc6add0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile byte * SlaveApp::outPtr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>outPtr is used to send the data to the Master. It points to the start of the bytes to send. It must be volatile due to itnerrupt handling </p>

</div>
</div>
<a class="anchor" id="a904be0463333a4437cb1812bd368c1c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="structtime_val_struct__t.html">timeValStruct_t</a> SlaveApp::outTVS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>outTVS is used to send the <a class="el" href="class_board.html">Board</a>'s data to the Master. It must be volatile due to itnerrupt handling </p>

</div>
</div>
<a class="anchor" id="a0e4695c5ffa8423244bb337b9f210d50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile int SlaveApp::sendI</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>sendI is the index of the byte to send to the Master. It is incremented from zero and is added to outPtr to get the current byte. It must be volatile due to itnerrupt handling </p>

</div>
</div>
<a class="anchor" id="a656aced3bc824a15fae36ff05ca9512b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile boolean SlaveApp::showInitMsg = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>showInitMsg is set to true when the slave has received the initChar from the master. This is a flag used in the slave <a class="el" href="class_slave_app.html#ad6e2bad1a6b7c26f55174f23b7b278e4">loop()</a> </p>

</div>
</div>
<a class="anchor" id="a67c5615c5ad15e5cf509a0b7dc4fa636"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile <a class="el" href="structtime_val_struct__t.html">timeValStruct_t</a> * SlaveApp::tempTVS = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>tempTVS is used to send the <a class="el" href="class_board.html">Board</a>'s data to the Master. It must be volatile due to itnerrupt handling </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/bob/Desktop/temp/Yannick/PhD Support/temp/SPI/Integrated_SPI/masterAndSlave/<a class="el" href="app_8h_source.html">app.h</a></li>
<li>/home/bob/Desktop/temp/Yannick/PhD Support/temp/SPI/Integrated_SPI/masterAndSlave/<a class="el" href="slave_app_8cpp.html">slaveApp.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_slave_app.html">SlaveApp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
